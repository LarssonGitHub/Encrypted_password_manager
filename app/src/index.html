<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>The vault</title>
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <link rel="stylesheet" href="./index.css">
  </head>
  <body>
    <main>
      <header>
        <h1>The vault</h1>
        <p>An offline only app for your credentials and passwords</p>
      </header>
      <dialog id="create-key-dialog">
        <div id="create-key-container">
          <p>Create a key you will use during encryption, do NOT forget it!</p>
          <small>The app uses crypto-js for encryption/decryption, and all info is stored in the app itself</small>
          <ul class="reset-ul">
            <li>
              <label for="create-key-input">New key</label>
              <input type="password" name="createKeyInput" id="create-key-input">
            </li>
            <li>
              <label for="repeat-key-input">Repeat key</label>
              <input type="password" name="repeatKeyInput" id="repeat-key-input">
            </li>
            <li>
              <button id="create-key-button">Create key</button>
            </li>
          </ul>
        </div>
      </dialog>
      <dialog id="validate-key-dialog">
        <div id="validate-key-container">
          <p>Enter your key for decryption of your items</p>
          <ul class="reset-ul">
            <li>
              <label for="validate-key-input">Key</label>
              <input type="password" name="validateKeyInput" id="validate-key-input">
            </li>
            <li>
              <button id="validate-key-button">Try key</button>
            </li>
          </ul>
        </div>
      </dialog>
      <dialog id="confirm-dialog">
        <div id="confirm-container">
          <p id="confirm-message"></p>
          <ul class="reset-ul">
            <li id="confirm-button-container">
              <button data-event="#" id="confirm-yes-button">Yes</button>
              <button id="confirm-no-button">No</button>
            </li>
          </ul>
        </div>
      </dialog>
      <div>
        <button id="post-form-button" class="svg-add-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
            <path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z" />
          </svg>
          <small>Add</small>
        </button>
      </div>
      <dialog id="form-dialog">
        <div id="form-container">
          <button id="close-form-button" class="svg-close-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
              <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
              <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z" />
            </svg>
          </button>
          <form id="form" data-action="">
            <ul class="reset-ul">
              <li class="list-id" hidden>
                <input type="hidden" id="id" name="id" value="#">
              </li>
              <li>
                <label for="website-input">Associated Website</label>
                <input type="text" name="websiteInput" id="website-input" required>
              </li>
              <li>
                <label for="email-input">Associated email</label>
                <input type="text" name="emailInput" id="email-input" required>
              </li>
              <li>
                <label for="username-input">Associated username</label>
                <input type="text" name="usernameInput" id="username-input" required>
              </li>
              <li>
                <label for="password-input">Associated password</label>
                <input type="text" name="passwordInput" id="password-input" required>
              </li>
              <li>
                <label for="additional-data-input">Additional notes</label>
                <textarea name="additionalDataInput" id="additional-data-input" rows="4" required>No notes given</textarea>
              </li>
              <li>
                <button id="submit-button" type="submit">Submit</button>
              </li>
            </ul>
          </form>
        </div>
      </dialog>
      <!-- TODO remove this before production -->
      <button id="get-items">Get websites from DB</button>
      <section>
        <h2>Your information and credentials</h2>
        <div id="list-data-container"></div>
      </section>
      <template id="template-list">
        <section>
          <ul data-list-item class="reset-ul list-data-item">
            <li class="list-id" hidden></li>
            <li>
              <div class="item-button-container">
                <button data-stored-object="#" class="edit-item-button svg-item-button list-button">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                    <path d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z" />
                  </svg>
                  <small>Edit</small>
                </button>
                <button data-delete-validation-id="#" data-delete-id="#" class="delete-item-button svg-item-button list-button">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                    <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                    <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
                  </svg>
                  <small>Delete</small>
                </button>
              </div>
            </li>
            <li>
              <h3>Website:</h3>
              <span class="list-website"></span>
            </li>
            <li>
              <b>Email:</b>
              <span class="list-email"></span>
            </li>
            <li>
              <b>Username:</b>
              <span class="list-username"></span>
            </li>
            <li>
              <b>Password:</b>
              <span class="list-password"></span>
            </li>
            <!-- TODO, put this into a textarea -->
            <li>
              <b>Notes:</b>
              <span class="list-additional-data"></span>
            </li>
          </ul>
        </section>
      </template>
      <dialog id="feedback-dialog" class="success-container">
        <div id="feedback-container">
          <p id="feedback-message"></p>
          <button id="feedback-close-button" class="svg-close-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
              <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
              <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z" />
            </svg>
          </button>
        </div>
      </dialog>
    </main>
    <script type="module" src="./frontend/renderer.js"></script>
    <script type="module" src="./frontend/listeners.js"></script>
  </body>
</html>